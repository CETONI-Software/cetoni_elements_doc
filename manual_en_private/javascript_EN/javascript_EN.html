<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6. Using JavaScript &mdash; CETONI Elements Private Manual</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b20cc3f5" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../_static/cetoni_style_override_css/style_override.css?v=ce09112c" />
      <link rel="stylesheet" type="text/css" href="../_static/cetoni_style_override_css/color_roles.css?v=7881a399" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/dark.css?v=70edf1c7" />

  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=b7a8dedb"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script src="../_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
        <script src="../_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. Nemesys Plugin" href="../nemesys_EN/nemesys_full_EN.html" />
    <link rel="prev" title="5. Generic Script Functions" href="../scriptingsystem_part2_EN/scriptingsystem_part2_EN.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index_private.html" class="icon icon-home">
            CETONI Elements Private Manual
              <img src="../_static/logo_cetoni_elements4.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation_EN/Installation_EN.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../QmixElementsADS_EN/QmixElementsADS_EN.html">2. CETONI Elements - An Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qmixdevices_EN/qmixdevices_full_EN.html">3. Creating Device Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scriptingsystem_part1_EN/scriptingsystem_part1_EN.html">4. Script System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scriptingsystem_part2_EN/scriptingsystem_part2_EN.html">5. Generic Script Functions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6. Using JavaScript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#javascript-support-in-cetoni-elements">6.1. JavaScript Support in CETONI Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#javascript-console">6.2. JavaScript Console</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview-of-javascript-console">6.2.1. Overview of JavaScript Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-completion">6.2.2. Code completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#error-messages">6.2.3. Error messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-help">6.2.4. Getting Help</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#accessing-application-objects">6.3. Accessing application objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-device-objects">6.3.1. Using device objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-application-objects">6.3.2. Using application objects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#standard-built-in-objects">6.4. Standard built-in objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#javascript-script-function">6.5. JavaScript Script Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#javascript-script-function-overview">6.5.1. JavaScript Script Function Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#javascript-editor">6.5.2. JavaScript Editor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implementation-of-the-function-logic-in-main">6.5.3. Implementation of the function logic in main()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#global-named-values">6.5.4. Global named values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#importing-javascript-modules">6.5.5. Importing JavaScript modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#script-execution-errors">6.5.6. Script execution errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#debugging-javascript-code">6.6. Debugging JavaScript Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#concurrent-execution">6.7. Concurrent Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#accessing-signals-and-slots-in-scripts">6.8. Accessing signals and slots in scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-reference">6.9. API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scriptenv">6.9.1. ScriptEnv</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCodeE"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::eMainFunctionReturnCode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocationE"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::eProjectLocation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevelE"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::eLogLevel</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess11listDevicesEv"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::listDevices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess9getDeviceERK7QString"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::getDevice()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess11listObjectsEv"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::listObjects()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess9getObjectERK7QString"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::getObject()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess6getVarERK7QString"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::getVar()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess6setVarERK7QStringRK8QVariant"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::setVar()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess7setVarsEK12QVariantList"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::setVars()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess13setNamedValueERK7QStringRK8QVariantb"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::setNamedValue()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess10namedValueERK7QString"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::namedValue()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess5sleepEf"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::sleep()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess5leaveEv"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::leave()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess6invokeERK8QJSValueRK8QJSValue"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::invoke()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess11projectPathEi"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::projectPath()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess6importERK7QStringRK7QString"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::import()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess3logEiRK7QStringRK7QString"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::log()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess13isDebugModeOnEv"><code class="docutils literal notranslate"><span class="pre">CScriptEnvAccess::isDebugModeOn()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#qfile">6.9.2. QFile</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N6QtLabb6Script12CScriptQFileE"><code class="docutils literal notranslate"><span class="pre">CScriptQFile</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nemesys_EN/nemesys_full_EN.html">7. Nemesys Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qmixio_EN/qmixio_full_EN.html">8. I/O Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qmixcontroller_EN/qmixcontroller_full_EN.html">9. Controller Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qmixv_EN/qmixv_full_EN.html">10. Valve Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tubingpump_EN/tubingpump_EN.html">11. Tubing Pump Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rotaxys_EN/rotaxys_EN.html">12. Rotaxys / Nemaxys Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../balance_EN/balance_EN.html">13. Balances Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ledarray_EN/ledarray_EN.html">14. LED Array Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cameraview_EN/cameraview_EN.html">15. Camera Add-on</a></li>
<li class="toctree-l1"><a class="reference internal" href="../imageanalysis_EN/imageanalysis_EN.html">16. Image Analysis Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videobuilder_EN/videobuilder_EN.html">17. Video Builder Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datalogger_EN/datalogger_full_EN.html">18. CSV Data Logger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graphlogger_EN/graphlogger_full_EN.html">19. Graphical Data Logger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database_EN/database_EN.html">20. Database Add-on</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_EN/python_EN.html">21. Python Add-on</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sila_EN/sila_EN.html">22. SiLA 2 Add-on</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spectroscopy_EN/spectroscopy_EN.html">23. Spectroscopy Add-on</a></li>
<li class="toctree-l1"><a class="reference internal" href="../daq_EN/daq_EN.html">24. DAQ Add-on</a></li>
<li class="toctree-l1"><a class="reference internal" href="../canopentools_EN/canopentools_EN.html">25. CANopen Tools Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendix_EN/Appendix_EN.html">26. Appendix</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index_private.html">CETONI Elements Private Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index_private.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">6. </span>Using JavaScript</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-javascript">
<h1><span class="section-number">6. </span>Using JavaScript<a class="headerlink" href="#using-javascript" title="Link to this heading"></a></h1>
<section id="javascript-support-in-cetoni-elements">
<h2><span class="section-number">6.1. </span>JavaScript Support in CETONI Elements<a class="headerlink" href="#javascript-support-in-cetoni-elements" title="Link to this heading"></a></h2>
<div class="caution admonition">
<p class="admonition-title">Attention</p>
<p>The CETONI Elements Script System Add-on allows you to control and automate processes
using JavaScript language.
Check the created scripts/programs as well as parameter entries before you
execute them for the first time! CETONI assumes no liability for direct and/or
indirect damage to your system or external hardware and software components
caused by the scripts/programs you have created or by the use of parameters
that are not suitable or unfavorable for your specific application.</p>
</div>
<p>The CETONI Elements software comes with an integrated JavaScript Engine.
This engine provides an environment for evaluating JavaScript code.
This allows you to execute JavaScript code in
CETONI Elements scripts via a corresponding script function and provides an
easy way to include the JavaScript scripting language in your CETONI Elements
scripts.</p>
<p>This gives you an additional way to implement logic in the <a class="reference internal" href="../scriptingsystem_part1_EN/scriptingsystem_part1_EN.html#script-system"><span class="std std-ref">Script System</span></a> and
may simplify the implementation of complex calculations.</p>
</section>
<section id="javascript-console">
<span id="id1"></span><h2><span class="section-number">6.2. </span>JavaScript Console<a class="headerlink" href="#javascript-console" title="Link to this heading"></a></h2>
<section id="overview-of-javascript-console">
<h3><span class="section-number">6.2.1. </span>Overview of JavaScript Console<a class="headerlink" href="#overview-of-javascript-console" title="Link to this heading"></a></h3>
<p>The script system provides a JavaScript console that allows you to interactively
enter and execute JavaScript code similar to the Python console.
You can show the JavaScript console from the main menu
(<span class="menuselection">Window → Show View → Scripting → JavaScript Console</span>):</p>
<img alt="../_images/javascript_console.png" src="../_images/javascript_console.png" />
<p>In the JavaScript console, you can try out commands, test access
to objects, and it helps you debug problems. If function calls work in
the console, you can use them in your script.</p>
<p>The context menu of the JavaScript console contains the usual commands for
text editing:</p>
<img alt="../_images/javascript_console_context_menu.png" src="../_images/javascript_console_context_menu.png" />
<p>You have three options to delete the content of the JavaScript console:</p>
<ul class="simple">
<li><p>select <span class="menuselection">Clear</span> <span class="guinum">❶</span> in the context menu</p></li>
<li><p>click the trash can icon <span class="guinum">❷</span> in the title bar</p></li>
<li><p>enter the <code class="code docutils literal notranslate"><span class="pre">clear()</span></code> command in the console</p></li>
</ul>
<div class="caution admonition">
<p class="admonition-title">Attention</p>
<p>Risk of malfunction or data loss !
Do not use the JavaScript Console in a running experiment,
process or during normal operation or productive use.
Incorrect input or access to resources can possibly
lead to a crash of the software.</p>
</div>
</section>
<section id="code-completion">
<h3><span class="section-number">6.2.2. </span>Code completion<a class="headerlink" href="#code-completion" title="Link to this heading"></a></h3>
<p>The JavaScript console supports you during typing with a simple code
completion.</p>
<img alt="../_images/js_console_code_completion.png" src="../_images/js_console_code_completion.png" />
<p>In the example above the code completion shows a selection of devices starting
with <code class="code docutils literal notranslate"><span class="pre">Nemes</span></code>.</p>
</section>
<section id="error-messages">
<h3><span class="section-number">6.2.3. </span>Error messages<a class="headerlink" href="#error-messages" title="Link to this heading"></a></h3>
<p>Errors that occur when executing code in the JavaScript console are displayed to
you as red text:</p>
<img alt="../_images/js_console_error.png" src="../_images/js_console_error.png" />
</section>
<section id="getting-help">
<h3><span class="section-number">6.2.4. </span>Getting Help<a class="headerlink" href="#getting-help" title="Link to this heading"></a></h3>
<p>You can use the global <code class="code docutils literal notranslate"><span class="pre">help()</span></code> command, to find out more about the available
objects and functions. If you use the <code class="code docutils literal notranslate"><span class="pre">help()</span></code> command without any
parameters, you will get a list of available functions and objects:</p>
<img alt="../_images/js_console_help_no_param.png" src="../_images/js_console_help_no_param.png" />
<p>If you pass the global object via <code class="code docutils literal notranslate"><span class="pre">help(this)</span></code>, then you will get
a list of all <a class="reference internal" href="#standard-built-in-objects"><span class="std std-ref">built-in objects</span></a> in the global scope:</p>
<img alt="../_images/js_console_help_built_in.png" src="../_images/js_console_help_built_in.png" />
<p>If you pass an object or function name as parameter to the help function,
like <code class="code docutils literal notranslate"><span class="pre">help(ScriptEnv)</span></code>, you will get detailed information about the given
object such as type <span class="guinum">❶</span>, properties <span class="guinum">❷</span>, methods <span class="guinum">❸</span> and
signals <span class="guinum">❹</span>:</p>
<img alt="../_images/js_console_help.png" src="../_images/js_console_help.png" />
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use the <code class="code docutils literal notranslate"><span class="pre">help(object)</span></code> function to get an overview of the methods and
properties of a given object.</p>
</div>
</section>
</section>
<section id="accessing-application-objects">
<h2><span class="section-number">6.3. </span>Accessing application objects<a class="headerlink" href="#accessing-application-objects" title="Link to this heading"></a></h2>
<p>The <strong>ScriptEnv</strong> object is the central object for accessing
available devices and application objects. Use <code class="code docutils literal notranslate"><span class="pre">help(ScriptEnv)</span></code> command
to get a list of available methods and properties of this object.</p>
<section id="using-device-objects">
<h3><span class="section-number">6.3.1. </span>Using device objects<a class="headerlink" href="#using-device-objects" title="Link to this heading"></a></h3>
<p>You can access device objects using the <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.getDevice()</span></code>
function. To get an overview of available device names you can call the
<code class="code docutils literal notranslate"><span class="pre">ScriptEnv.listDevices()</span></code> function.</p>
<img alt="../_images/js_console_device_names.png" src="../_images/js_console_device_names.png" />
<p>The code completion helps you to enter a device name by
showing you a list of matching names (see figure above). If you call the
<code class="code docutils literal notranslate"><span class="pre">getDevice()</span></code> function without an assignment to a variable, then you can
see in the console if the call was successful:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>js&gt;<span class="w"> </span>ScriptEnv.getDevice<span class="o">(</span><span class="s2">&quot;Nemesys_S_1&quot;</span><span class="o">)</span>
QtLabb::CNemesys4Pump<span class="o">(</span>0x1e2136485a0,<span class="w"> </span><span class="s2">&quot;Nemesys_S_1&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>To access a device, assign the result of the call to <code class="code docutils literal notranslate"><span class="pre">getDevice()</span></code> to a
variable. In the following example, we assign the device object for the
first Nemesys S pump to the variable <code class="code docutils literal notranslate"><span class="pre">pump</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>js&gt;<span class="w"> </span><span class="nv">pump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ScriptEnv.getDevice<span class="o">(</span><span class="s2">&quot;Nemesys_S_1&quot;</span><span class="o">)</span>
QtLabb::CNemesys4Pump<span class="o">(</span>0x1e2136485a0,<span class="w"> </span><span class="s2">&quot;Nemesys_S_1&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>Now you can use the <code class="code docutils literal notranslate"><span class="pre">help(pump)</span></code> function to get an
overview of the available methods and functions of the pump object.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use the <code class="code docutils literal notranslate"><span class="pre">help(object)</span></code> function to get an overview of the methods and
properties of device objects.</p>
</div>
<div class="note admonition">
<p class="admonition-title">Important</p>
<p>For many devices, accessing device
properties and methods is only possible if the application is
connected to the devices.</p>
</div>
<div class="caution admonition">
<p class="admonition-title">Attention</p>
<p><strong>Risk of malfunction / data loss !</strong>
Via device functions you may have access to functions
that are not available in the graphical user interface.
Always test functions outside running processes and not
during productive use. Incorrect input or access to
resources, methods or properties can lead to
malfunctions or a crash of the software.</p>
</div>
<p>When you are connected to the device, you can now access the device
functionality via the device object functions. For example, you can
trigger a refill process for the pump:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>js&gt;<span class="w"> </span>pump.refillSyringe<span class="o">()</span>
</pre></div>
</div>
<p>or stop the pumping operation:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>js&gt;<span class="w"> </span>pump.stopPumping<span class="o">()</span>
</pre></div>
</div>
<p>The following code shows how to get the device object for the Nemesys S pump via
the <code class="code docutils literal notranslate"><span class="pre">ScriptEnv</span></code> object, and then start an emptying process of the syringe:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>js&gt;<span class="w"> </span><span class="nv">pump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ScriptEnv.getDevice<span class="o">(</span><span class="s2">&quot;Nemesys_S_1&quot;</span><span class="o">)</span>
QtLabb::CNemesys4Pump<span class="o">(</span>0x1e2136485a0,<span class="w"> </span><span class="s2">&quot;Nemesys_S_1&quot;</span><span class="o">)</span>

js&gt;<span class="w"> </span>pump.emptySyringe<span class="o">()</span>
</pre></div>
</div>
</section>
<section id="using-application-objects">
<h3><span class="section-number">6.3.2. </span>Using application objects<a class="headerlink" href="#using-application-objects" title="Link to this heading"></a></h3>
<p>Similar to device objects, you can also access application objects that
are no devices. Use the two functions <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.getObject()</span></code> and
<code class="code docutils literal notranslate"><span class="pre">ScriptEnv.listObjects()</span></code> for this</p>
<p>The following code shows how to get the application object of the graphical
logger via the <code class="code docutils literal notranslate"><span class="pre">ScriptEnv</span></code> object and then start logging:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>js&gt;<span class="w"> </span><span class="nv">plot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ScriptEnv.getObject<span class="o">(</span><span class="s2">&quot;ProcessDataGraph&quot;</span><span class="o">)</span>
QtLabb::CQCustomPlotDataLogger<span class="o">(</span>0x1e2112dc280,<span class="w"> </span><span class="s2">&quot;ProcessDataGraph&quot;</span><span class="o">)</span>

js&gt;<span class="w"> </span>plot.startLogging<span class="o">()</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use the <code class="code docutils literal notranslate"><span class="pre">help(object)</span></code> function to get an overview of the methods and
properties of application objects.</p>
</div>
<div class="caution admonition">
<p class="admonition-title">Attention</p>
<p><strong>Risk of malfunction / data loss !</strong>
The functions of the application objects may give you
access to functions that are not available in the
graphical user interface. Always test functions outside
running processes and not during productive use.
Incorrect input or access to resources, methods or
properties can lead to malfunctions or a crash of the
software.</p>
</div>
</section>
</section>
<section id="standard-built-in-objects">
<h2><span class="section-number">6.4. </span>Standard built-in objects<a class="headerlink" href="#standard-built-in-objects" title="Link to this heading"></a></h2>
<p>The JavaScript engine has a number of standard buil-in objects in the global
scope. One of these objects is the <strong>global object</strong> that can be accessed using the
<code class="code docutils literal notranslate"><span class="pre">this</span></code> operator. To list all built-in objects, you just need to call the
<a class="reference internal" href="#getting-help"><span class="std std-ref">help function</span></a> with the global object like this: <code class="code docutils literal notranslate"><span class="pre">help(this)</span></code>.</p>
<img alt="../_images/js_console_help_built_in.png" src="../_images/js_console_help_built_in.png" />
<p>If you would like to see the properties and functions of a specific built-in
object, such as <code class="code docutils literal notranslate"><span class="pre">Math</span></code>, you just need to call help passing this object:
<code class="code docutils literal notranslate"><span class="pre">help(Math)</span></code>.</p>
<p>For a detailed list of built-in objects supported by the embedded JavaScript engine,
please refer to the Qt documentation:</p>
<p><a class="reference external" href="https://doc.qt.io/qt-5/qtqml-javascript-functionlist.html">https://doc.qt.io/qt-5/qtqml-javascript-functionlist.html</a></p>
<p>For a detailed documentation of the build-in objects, please refer to the JavaScript
reference documentation:</p>
<p><a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects</a></p>
</section>
<section id="javascript-script-function">
<span id="id2"></span><h2><span class="section-number">6.5. </span>JavaScript Script Function<a class="headerlink" href="#javascript-script-function" title="Link to this heading"></a></h2>
<section id="javascript-script-function-overview">
<h3><span class="section-number">6.5.1. </span>JavaScript Script Function Overview<a class="headerlink" href="#javascript-script-function-overview" title="Link to this heading"></a></h3>
<a class="reference internal image-reference" href="../_images/javascript_logo.svg"><img alt="../_images/javascript_logo.svg" class="align-left" src="../_images/javascript_logo.svg" width="60px" /></a>
<p>The <code class="code docutils literal notranslate"><span class="pre">Execute</span> <span class="pre">JavaScript</span> <span class="pre">Code</span></code> script function is available in the
<span class="guilabel">Core Functions</span> category of the <span class="guilabel">Script Pool</span>:</p>
<img alt="../_images/core_functions.png" src="../_images/core_functions.png" />
<p>This function allows you to execute JavaScript code in the script
system of the application. When you insert the function into your
script, you will see the initial JavaScript code in the configuration
area.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Implement your script logic in this function</span>
<span class="c1">// Avoid blocking function calls</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">FINISH</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When the script is executed, it is loaded by the JavaScript engine and then
the <code class="code docutils literal notranslate"><span class="pre">main()</span></code> function is called. I.e. this function is the main
function of the script and the logic should be implemented there.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>All options you have in the <a class="reference internal" href="#id1">JavaScript Console</a>
to access <a class="reference internal" href="../python_EN/python_EN.html#using-device-objects"><span class="std std-ref">device objects</span></a> and
<a class="reference internal" href="../python_EN/python_EN.html#using-application-objects"><span class="std std-ref">application objects</span></a> are
also available in the script function.</p>
</div>
<p>Each script function uses its own JavaScript engine instance. This enables the
use of JavaScript functions in parallel sequences.</p>
</section>
<section id="javascript-editor">
<h3><span class="section-number">6.5.2. </span>JavaScript Editor<a class="headerlink" href="#javascript-editor" title="Link to this heading"></a></h3>
<p>The JavaScript Script function has a JavaScript code editor to assist you in
writing JavaScript code.</p>
<img alt="../_images/javascript_editor.png" src="../_images/javascript_editor.png" />
<p>The editor has the following features</p>
<ul class="simple">
<li><p>Syntax highlighting for JavaScript code <span class="guinum">❶</span></p></li>
<li><p>a simple code completion</p></li>
<li><p>Code Folding <span class="guinum">❷</span></p></li>
<li><p>Line numbers <span class="guinum">❸</span></p></li>
<li><p>Undo / Redo functionality <span class="guinum">❹</span></p></li>
</ul>
<p>Some functions of the editor are available via the context menu, other
functions are available via keyboard shortcuts. Here are some of the
functions:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Action</p></th>
<th class="head"><p>Keyboard Shortcut</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Increase font size</p></td>
<td><p><kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">+</kbd></p></td>
</tr>
<tr class="row-odd"><td><p>Decrease font size</p></td>
<td><p><kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">-</kbd></p></td>
</tr>
<tr class="row-even"><td><p>Reset font size to default</p></td>
<td><p><kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">0</kbd></p></td>
</tr>
<tr class="row-odd"><td><p>Indent selected code block</p></td>
<td><p><kbd class="kbd docutils literal notranslate">Tab</kbd></p></td>
</tr>
<tr class="row-even"><td><p>Unindent selected code block</p></td>
<td><p><kbd class="kbd docutils literal notranslate">Shift</kbd> + <kbd class="kbd docutils literal notranslate">Tab</kbd></p></td>
</tr>
<tr class="row-odd"><td><p>Undo</p></td>
<td><p><kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Z</kbd> or context menu</p></td>
</tr>
<tr class="row-even"><td><p>Redo</p></td>
<td><p><kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">Y</kbd> or context menu</p></td>
</tr>
</tbody>
</table>
<div class="note admonition">
<p class="admonition-title">Important</p>
<p>Editing the JavaScript source code is only
possible when the script is not running. Once the
script has been started, editing of the source code is
disabled. In case of an error you have to terminate the
script via the <span class="guilabel">Terminate Script</span> button before you
can edit the JavaScript code.</p>
</div>
</section>
<section id="implementation-of-the-function-logic-in-main">
<h3><span class="section-number">6.5.3. </span>Implementation of the function logic in main()<a class="headerlink" href="#implementation-of-the-function-logic-in-main" title="Link to this heading"></a></h3>
<p>When implementing the script in <code class="code docutils literal notranslate"><span class="pre">main()</span></code> you should be careful
not to use blocking functions or blocking waits. Normally the JavaScript engine
runs the JavaScript code in the main UI thread and using blocking function
calls may block any UI updates and the main event loop.</p>
<div class="note admonition">
<p class="admonition-title">Important</p>
<p>Do not use blocking function calls to avoid blocking the main UI thread.</p>
</div>
<p>If you want to implement complex logic or state machines in JavaScript, then
you should consider using concurrent execution in a worker thread. To activate
concurrent execution, you can turn on the toggle switch
<span class="guilabel">Concurrent Execution</span>. Read more about this feature in section
<a class="reference internal" href="#concurrent-execution">Concurrent Execution</a>.</p>
<img alt="../_images/concurrent_execution.png" src="../_images/concurrent_execution.png" />
<p>Unlike with the <a class="reference internal" href="../scriptingsystem_part2_EN/scriptingsystem_part2_EN.html#set-variable"><span class="std std-ref">Set Variable</span></a> or <a class="reference internal" href="../scriptingsystem_part2_EN/scriptingsystem_part2_EN.html#create-variable"><span class="std std-ref">Create Variable</span></a> functions, it is not
allowed here to use variable identifiers (such as <code class="code docutils literal notranslate"><span class="pre">$Flow</span></code>) or device properties
(such as <code class="code docutils literal notranslate"><span class="pre">$$Nemesys_S_1.ActualFlow</span></code>) directly in the JavaScript source code.
That means, the following code is <strong>wrong</strong> and <strong>invalid</strong> code:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">calculateFlow</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">   </span><span class="c1">// Wrong - $Flow and $$Nemesys_S_1.ActualFlow are not defined</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nx">$Flow</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">$$Nemesys_S_1</span><span class="p">.</span><span class="nx">ActualFlow</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To access variables the functions <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.setVar()</span></code> and <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.getVar()</span></code>
must be used. Access to device functions is possible via <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.getDevice()</span></code>.
The right way, to implement the function above, is this one:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">calculateFlow</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">   </span><span class="nx">Flow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">getVar</span><span class="p">(</span><span class="s2">&quot;$Flow&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">pump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">getDevice</span><span class="p">(</span><span class="s2">&quot;Nemesys_S_1&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nx">Flow</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">pump</span><span class="p">.</span><span class="nx">ActualFlow</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="caution admonition">
<p class="admonition-title">Attention</p>
<p>It is not allowed to use variable identifiers such as <code class="code docutils literal notranslate"><span class="pre">$Flow</span></code> or
device properties such as <code class="code docutils literal notranslate"><span class="pre">$$Nemesys_S_1.ActualFlow</span></code> directly in the
JavaScript source code.</p>
</div>
</section>
<section id="global-named-values">
<h3><span class="section-number">6.5.4. </span>Global named values<a class="headerlink" href="#global-named-values" title="Link to this heading"></a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">ScriptEnv</span></code> object has the <code class="code docutils literal notranslate"><span class="pre">setNamedValue()</span></code>. function You can use this
function to register a specific value with a defined name globally
for the current script engine instance. You can then later use the
<code class="code docutils literal notranslate"><span class="pre">namedValue()</span></code> function to simply access the registered named value.
This is handy, for example, if you want to access certain objects,
such as settings files or global settings, from different JavaScript
functions. You can register the value in a JavaScript function and
then access it later from other JavaScript functions.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For more details, see the API documentation of the two functions
<a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess13setNamedValueERK7QStringRK8QVariantb" title="QtLabb::Script::CScriptEnvAccess::setNamedValue"><code class="xref any cpp cpp-func docutils literal notranslate"><span class="pre">ScriptEnv.setNamedValue()</span></code></a>
and <a class="reference internal" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess10namedValueERK7QString" title="QtLabb::Script::CScriptEnvAccess::namedValue"><code class="xref any cpp cpp-func docutils literal notranslate"><span class="pre">ScriptEnv.namedValue()</span></code></a>.</p>
</div>
</section>
<section id="importing-javascript-modules">
<h3><span class="section-number">6.5.5. </span>Importing JavaScript modules<a class="headerlink" href="#importing-javascript-modules" title="Link to this heading"></a></h3>
<p>The JavaScript Engine allows you to import your own JavaScript modules from the
current project directory. If you use your own modules that you want to share
or deliver with your project, you can save them in the <code class="file docutils literal notranslate"><span class="pre">Scripts/JavaScript</span></code>
subfolder of your current project. For example, if you are working in the
<code class="code docutils literal notranslate"><span class="pre">JavaScript_Tutorial</span></code> project, the absolute path to this directory would be:</p>
<p class="centered">
<strong><code class="file docutils literal notranslate"><span class="pre">C:/Users/Public/Documents/QmixElements/Projects/JavaScript_Tutorial/Scripts/JavaScript</span></code></strong></p><p>You can then import modules contained in this folder using the <code class="code docutils literal notranslate"><span class="pre">import</span></code> function
of the <a class="reference internal" href="../python_EN/python_EN.html#scriptenv"><span class="std std-ref">ScriptEnv</span></a> object. In the following example, a JavaScript module is
created in the <code class="file docutils literal notranslate"><span class="pre">Scripts/JavaScript</span></code> folder in the file <code class="file docutils literal notranslate"><span class="pre">test.js</span></code>
with the following content:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// module &quot;test.js&quot;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">cube</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">SQRT2</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">options</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">thickness</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;2px&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nx">draw</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;From graph draw function&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="p">},</span>
<span class="p">};</span>

<span class="kd">class</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span><span class="w"> </span><span class="nx">lastName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">firstName</span><span class="p">;</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lastName</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>

<span class="w">   </span><span class="nx">getFullName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">cube</span><span class="p">,</span><span class="w"> </span><span class="nx">foo</span><span class="p">,</span><span class="w"> </span><span class="nx">graph</span><span class="p">,</span><span class="w"> </span><span class="nx">Person</span><span class="w"> </span><span class="p">};</span>
</pre></div>
</div>
<p>In the JavaScript script function, the module is now imported and used as
<code class="code docutils literal notranslate"><span class="pre">MyModule</span></code>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="k">import</span><span class="p">(</span><span class="s2">&quot;test.js&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;MyModule&quot;</span><span class="p">);</span>

<span class="w">   </span><span class="nx">print</span><span class="p">(</span><span class="nx">MyModule</span><span class="p">.</span><span class="nx">foo</span><span class="p">);</span>
<span class="w">   </span><span class="nx">print</span><span class="p">(</span><span class="nx">MyModule</span><span class="p">.</span><span class="nx">cube</span><span class="p">(</span><span class="mf">3</span><span class="p">));</span>
<span class="w">   </span><span class="nx">print</span><span class="p">(</span><span class="nx">MyModule</span><span class="p">.</span><span class="nx">graph</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span>
<span class="w">   </span><span class="kd">const</span><span class="w"> </span><span class="nx">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">MyModule</span><span class="p">.</span><span class="nx">Person</span><span class="p">(</span><span class="s2">&quot;John&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Doe&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Person: &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">person1</span><span class="p">.</span><span class="nx">getFullName</span><span class="p">());</span>

<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">ScriptFinish</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#javascript-console"><span class="std std-ref">JavaScript console</span></a> should contain the following
output after execution of the script function:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>js&gt;
4.555806215962888
27
white
Person:  John Doe
</pre></div>
</div>
</section>
<section id="script-execution-errors">
<h3><span class="section-number">6.5.6. </span>Script execution errors<a class="headerlink" href="#script-execution-errors" title="Link to this heading"></a></h3>
<p>If errors occur during the execution of a script, you will see them in
the <span class="guilabel">Event Log</span>. If you hover over the error message in the event log,
you will see a hint window with details:</p>
<img alt="../_images/script_execution_errors.png" src="../_images/script_execution_errors.png" />
<p>In the error message you will also get the information in
which line of the script an error occurred. This will help you to find
and fix the error in the script editor.</p>
<div class="note admonition">
<p class="admonition-title">Important</p>
<p>Editing the JavaScript source code is only
possible when the script is not running. Once the
script has been started, editing of the source code is
disabled. In case of an error you have to terminate the
script via the <span class="guilabel">Terminate Script</span> button before you can
edit the JavaScript source code.</p>
</div>
</section>
</section>
<section id="debugging-javascript-code">
<h2><span class="section-number">6.6. </span>Debugging JavaScript Code<a class="headerlink" href="#debugging-javascript-code" title="Link to this heading"></a></h2>
<p>When you develop a script function with JavaScript, there are many ways to
debug possible issues that you may face. The sections below describe, how to use
the JavaScript console API to debug your JavaScript code.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>print</p></td>
<td><p>Use <code class="code docutils literal notranslate"><span class="pre">print</span></code> to print to the console and event log</p>
<p>For example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">print</span><span class="p">(</span><span class="s2">&quot;a is &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;b is &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>Log</p></td>
<td><p>Use <code class="code docutils literal notranslate"><span class="pre">console.log</span></code>, <code class="code docutils literal notranslate"><span class="pre">console.debug</span></code>, <code class="code docutils literal notranslate"><span class="pre">console.info</span></code>,
<code class="code docutils literal notranslate"><span class="pre">console.warn</span></code>, or <code class="code docutils literal notranslate"><span class="pre">console.error</span></code> to print debugging
information to the console.</p>
<p>For example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;a is &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;b is &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>Assert</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">console.assert</span></code> tests that an expression is true. If not,
it writes an  optional message to the console and prints the stack
trace.</p>
<p>For example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="kd">var</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">12</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mf">12</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;This will pass&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">assert</span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">12</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;This will fail&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>Timer</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">console.time</span></code> and <code class="code docutils literal notranslate"><span class="pre">console.timeEnd</span></code> log the time
(in milliseconds) that was spent between the calls. Both take a
string argument that identifies the measurement.</p>
<p>For example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">(</span><span class="s2">&quot;wholeFunction&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">(</span><span class="s2">&quot;firstPart&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="c1">// first part</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">(</span><span class="s2">&quot;firstPart&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="c1">// second part</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">(</span><span class="s2">&quot;wholeFunction&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>Trace</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">console.trace</span></code> prints the stack trace of the JavaScript execution at
the point where it was called. This stack trace information contains
the function name, file name, line number, and column number.
The stack trace is limited to last 10 stack frames.</p></td>
</tr>
<tr class="row-odd"><td><p>Count</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">console.count</span></code> prints the current number of times a particular piece of
code has run, along with a message.</p>
<p>For example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">count</span><span class="p">(</span><span class="s2">&quot;f called&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>Exception</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">console.exception</span></code> prints an error message together with the stack
trace of JavaScript execution at the point where it is called.</p></td>
</tr>
</tbody>
</table>
<p>In addition, you have the option of using the <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.log()</span></code> function
in the software to output messages in the event log. The advantage of this
function is that you can additionally specify a log level and a <code class="code docutils literal notranslate"><span class="pre">Source</span></code> as
parameters, which is then output in the event log.</p>
<p>In the following example, four log messages with different levels are output
in the JavaScript function:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">LogInfo</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Test Info Message&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;JavaScript Function&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">LogWarning</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Test Warning Message&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;JavaScript Function&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">LogError</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Test Error Message&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;JavaScript Function&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">LogDebug</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Test Debug Message&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;JavaScript Function&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">ScriptFinish</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This code leads to the following log outputs in the event log:</p>
<img alt="../_images/js_scriptenv_log_eventlog.png" src="../_images/js_scriptenv_log_eventlog.png" />
<div class="note admonition">
<p class="admonition-title">Important</p>
<p>Messages with the log level <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.LogDebug</span></code> are only output when
<a class="reference internal" href="../scriptingsystem_part1_EN/scriptingsystem_part1_EN.html#debug-mode"><span class="std std-ref">debug mode</span></a> is active.</p>
</div>
</section>
<section id="concurrent-execution">
<h2><span class="section-number">6.7. </span>Concurrent Execution<a class="headerlink" href="#concurrent-execution" title="Link to this heading"></a></h2>
<p>Normally the JavaScript code is executed in the main UI thread. If you would
like to implement long running JavaScript code with blocking function calls
or longer delays, you should consider concurrent execution in a dedicated
worker thread, to avoid blocking the main UI thread. To activate
concurrent execution, you can turn on the toggle switch
<span class="guilabel">Concurrent Execution</span>.</p>
<img alt="../_images/concurrent_execution.png" src="../_images/concurrent_execution.png" />
<p>If the JavaScript code runs concurrently, then it is possible to interrupt
the JavaScript script function when the script execution is stopped. The
disadvantage of the concurrent execution is, that it is not safe to access
methods and properties of UI objects that you have obtained via
<code class="code docutils literal notranslate"><span class="pre">ScriptEnv.getObject()</span></code>.</p>
<div class="caution admonition">
<p class="admonition-title">Attention</p>
<p>It is not safe to use properties and methods of UI application objects
if the JavaScript code is executed concurrently. In this case, accessing
UI objects may crash the application.</p>
</div>
<p>To call UI object methods, you need to use the <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.invoke()</span></code>
function. This ensures, that the invoked method is called in the main UI
thread. The following example shows how to invoke a function of the graphical
logger and of a pump using <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.invoke()</span></code></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">   </span><span class="nx">pump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">getDevice</span><span class="p">(</span><span class="s2">&quot;Nemesys_S_1&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">invoke</span><span class="p">(</span><span class="nx">pump</span><span class="p">.</span><span class="nx">generateFlow</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mf">0.01</span><span class="p">]);</span>
<span class="w">   </span><span class="nx">graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">getObject</span><span class="p">(</span><span class="s2">&quot;ProcessDataGraph&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">invoke</span><span class="p">(</span><span class="nx">graph</span><span class="p">.</span><span class="nx">startLogging</span><span class="p">,</span><span class="w"> </span><span class="p">[]);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following table shows the advantages / disadvantages of the two execution
modes to help you to decide which one to use:</p>
<table class="docutils align-center">
<thead>
<tr class="row-odd"><th class="head stub"></th>
<th class="head"><p>Execution in UI thread</p></th>
<th class="head"><p>Concurrent Execution</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>UI object access</p></th>
<td><p>yes</p></td>
<td><p>only via <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.invoke()</span></code></p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>Blocking function calls</p></th>
<td><p>no - blocks UI thread</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>Interruptible</p></th>
<td><p>no</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>Suitable for</p></th>
<td><p>short scripts or calculations</p></td>
<td><p>complex scripts with blocking function calls and delays</p></td>
</tr>
</tbody>
</table>
</section>
<section id="accessing-signals-and-slots-in-scripts">
<h2><span class="section-number">6.8. </span>Accessing signals and slots in scripts<a class="headerlink" href="#accessing-signals-and-slots-in-scripts" title="Link to this heading"></a></h2>
<p>The embedded JavaScript engine offers the capability to use signals and slots.
Signals are emitted by an object when its internal state has changed in some way.
A slot is called when a signal connected to it is emitted. Slots are normal
functions and can be called normally; their only special feature is that signals
can be connected to them. If you connect to a signal, the receiver can be a
regular slot of another object or a JavaScript function. The most
common case is when you connect the signal to an anonymous function:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">pump</span><span class="p">.</span><span class="nx">dosageFinished</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;dosage finished!&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>If you need to undo the connection, you will need to store the function in a variable:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">dosageFinished</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;dosage finished!&#39;</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">pump</span><span class="p">.</span><span class="nx">dosageFinished</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">dosageFinished</span><span class="p">);</span>
<span class="c1">//...</span>
<span class="nx">pump</span><span class="p">.</span><span class="nx">dosageFinished</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">(</span><span class="nx">dosageFinished</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also connect the signal to a signal or slot of another exposed object.
In the following example we connect the <code class="code docutils literal notranslate"><span class="pre">dosageFinished</span></code> signal of <em>pump2</em>
to the <code class="code docutils literal notranslate"><span class="pre">stopPumping</span></code> slot of <em>pump1</em>. This will automatically stop <em>pump1</em>
if <em>pump2</em> stops:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">pump1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">getDevice</span><span class="p">(</span><span class="s2">&quot;peRISYS_S_1&quot;</span><span class="p">);</span>
<span class="nx">pump2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">getDevice</span><span class="p">(</span><span class="s2">&quot;peRISYS_S_2&quot;</span><span class="p">);</span>
<span class="nx">pump2</span><span class="p">.</span><span class="nx">dosageFinished</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">pump1</span><span class="p">.</span><span class="nx">stopPumping</span><span class="p">)</span>
</pre></div>
</div>
<p>The following example is a little bit more complex and shows, how to use
concurrent execution together with a signal connection.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kd">function</span><span class="w"> </span><span class="nx">onDosageFinished</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 2</span><span class="w">   </span><span class="nx">print</span><span class="p">(</span><span class="s2">&quot;onDosageFinished&quot;</span><span class="p">);</span>
<span class="linenos"> 3</span><span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">leave</span><span class="p">();</span>
<span class="linenos"> 4</span><span class="p">}</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c1">// Implement your script logic in this function</span>
<span class="linenos"> 7</span><span class="c1">// Avoid blocking function calls</span>
<span class="linenos"> 8</span><span class="kd">function</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="linenos"> 9</span><span class="w">   </span><span class="nx">pump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">getDevice</span><span class="p">(</span><span class="s2">&quot;Nemesys_S_1&quot;</span><span class="p">);</span>
<span class="linenos">10</span><span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">Initialized</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;undefined&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">11</span><span class="w">      </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">Initialized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="linenos">12</span><span class="w">      </span><span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Connecting signal&quot;</span><span class="p">)</span>
<span class="linenos">13</span><span class="w">      </span><span class="nx">pump</span><span class="p">.</span><span class="nx">dosageFinished</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">onDosageFinished</span><span class="p">);</span>
<span class="linenos">14</span><span class="w">   </span><span class="p">}</span>
<span class="linenos">15</span><span class="w">   </span><span class="nx">pump</span><span class="p">.</span><span class="nx">aspirate</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span><span class="w"> </span><span class="mf">0.01</span><span class="p">);</span>
<span class="linenos">16</span><span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">KEEP_RUNNING</span><span class="p">;</span>
<span class="linenos">17</span><span class="p">}</span>
</pre></div>
</div>
<p>The code in line 10 to 14 connects the <code class="code docutils literal notranslate"><span class="pre">dosageFinished</span></code> signal of the pump
to the JavaScript function <code class="code docutils literal notranslate"><span class="pre">onDosageFinished</span></code>.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">Initialized</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;undefined&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">Initialized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">   </span><span class="nx">print</span><span class="p">(</span><span class="s2">&quot;Connecting signal&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="nx">pump</span><span class="p">.</span><span class="nx">dosageFinished</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">onDosageFinished</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The surrounding check
<code class="code docutils literal notranslate"><span class="pre">if</span> <span class="pre">(typeof</span> <span class="pre">ScriptEnv.Initialized</span> <span class="pre">==</span> <span class="pre">&quot;undefined&quot;)</span></code> ensures, that there
will be only one connection if the function is called multiple times. If we do
not use this check, then a new connection is created each time the function
is called.</p>
<p>In the next two lines, the pump aspiration is started and the <code class="code docutils literal notranslate"><span class="pre">main()</span></code>
script function returns <code class="code docutils literal notranslate"><span class="pre">ScriptEnv.KEEP_RUNNING</span></code> to indicated, that script
execution should not stop if main function is finished.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">pump</span><span class="p">.</span><span class="nx">aspirate</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span><span class="w"> </span><span class="mf">0.01</span><span class="p">);</span>
<span class="k">return</span><span class="w"> </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">KEEP_RUNNING</span><span class="p">;</span>
</pre></div>
</div>
<p>The scripting system will stay in this script function, until the pump finished
dosage. In this case, the JavaScript function <code class="code docutils literal notranslate"><span class="pre">onDosageFinished()</span></code> will
be called.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span><span class="w"> </span><span class="nx">onDosageFinished</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nx">print</span><span class="p">(</span><span class="s2">&quot;onDosageFinished&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="nx">ScriptEnv</span><span class="p">.</span><span class="nx">leave</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The function prints a message to the console and calls
<code class="code docutils literal notranslate"><span class="pre">ScriptEnv.leave()</span></code> to signal the script function, that the function has
finished and that the next script function can be executed. This example shows,
how to execute a longer running task and end the script function when the task
has finished.</p>
</section>
<section id="api-reference">
<h2><span class="section-number">6.9. </span>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading"></a></h2>
<section id="scriptenv">
<h3><span class="section-number">6.9.1. </span>ScriptEnv<a class="headerlink" href="#scriptenv" title="Link to this heading"></a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">ScriptEnv</span></code> object is the central object for accessing available
devices and application objects.</p>
<div class="breathe-sectiondef docutils container">
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCodeE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCodeE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCodeE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a92582128e2d71ac3887b8186b5553bce"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">eMainFunctionReturnCode</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCodeE" title="Link to this definition"></a><br /></dt>
<dd><p>The main function return code. </p>
<p>Normally the script execution finishes, if the JavaScript main() function is left. To indicate, that script execution should not finish, i.e. if you would like to wait for a certain event or signal, then your main function can return KEEP_RUNNING, to indicate, that you would like to stay in the current script function.</p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">function</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">ScriptFinish</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCode12ScriptFinishE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCode12ScriptFinishE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCode12ScriptFinishE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a92582128e2d71ac3887b8186b5553bcea7c121246bc1620b53d7b43b329f0c645"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ScriptFinish</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCode12ScriptFinishE" title="Link to this definition"></a><br /></dt>
<dd><p>finish current script function </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCode17ScriptKeepRunningE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCode17ScriptKeepRunningE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCode17ScriptKeepRunningE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a92582128e2d71ac3887b8186b5553bcea6bb9f1225d98f88473ac27072492f577"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ScriptKeepRunning</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess23eMainFunctionReturnCode17ScriptKeepRunningE" title="Link to this definition"></a><br /></dt>
<dd><p>keep the JavaScript engine running and stay in current script </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocationE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess16eProjectLocationE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess16eProjectLocationE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">eProjectLocation</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocationE" title="Link to this definition"></a><br /></dt>
<dd><p>This enum describes the different locations that can be queried using <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptEnvAccess_1a05d32bde10f7372d6a2fd80d64d51f37"><span class="std std-ref">projectPath()</span></a> function. </p>
<p>The following example shows, how to get the data path of the current project:</p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">projectPath</span><span class="p">(</span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">LocationData</span><span class="p">);</span>
</pre></div>
</div>
</p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation15LocationProjectE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess16eProjectLocation15LocationProjectE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess16eProjectLocation15LocationProjectE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9a46d73021499686e642a8c1b8f8f577b6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LocationProject</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation15LocationProjectE" title="Link to this definition"></a><br /></dt>
<dd><p>location of the current project directory </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation22LocationConfigurationsE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess16eProjectLocation22LocationConfigurationsE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess16eProjectLocation22LocationConfigurationsE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9a227bfb94d63937efb4709f6fe12b4830"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LocationConfigurations</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation22LocationConfigurationsE" title="Link to this definition"></a><br /></dt>
<dd><p>location of the device configurations in the current project </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation11LocationLogE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess16eProjectLocation11LocationLogE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess16eProjectLocation11LocationLogE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9a48e638aa971507944a7800adcee73132"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LocationLog</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation11LocationLogE" title="Link to this definition"></a><br /></dt>
<dd><p>location of the log files </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation15LocationScriptsE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess16eProjectLocation15LocationScriptsE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess16eProjectLocation15LocationScriptsE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9aaf2b83669deae9e3a021bed291b88d2f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LocationScripts</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation15LocationScriptsE" title="Link to this definition"></a><br /></dt>
<dd><p>location of the current project script files </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation16LocationPicturesE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess16eProjectLocation16LocationPicturesE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess16eProjectLocation16LocationPicturesE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9aad2e766d5b3d00c67365708c664ea4e2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LocationPictures</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation16LocationPicturesE" title="Link to this definition"></a><br /></dt>
<dd><p>location of the current project image files </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation14LocationVideosE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess16eProjectLocation14LocationVideosE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess16eProjectLocation14LocationVideosE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9a84e88d464ea7fc65df40255861ccb425"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LocationVideos</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation14LocationVideosE" title="Link to this definition"></a><br /></dt>
<dd><p>location of the current project video files </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation12LocationDataE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess16eProjectLocation12LocationDataE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess16eProjectLocation12LocationDataE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9a6e51e29656b1412056e79860997c5b86"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LocationData</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation12LocationDataE" title="Link to this definition"></a><br /></dt>
<dd><p>location of data in the current project </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation16LocationSettingsE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess16eProjectLocation16LocationSettingsE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess16eProjectLocation16LocationSettingsE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9a8c9336c3bb32f36b14b1915b2fb389a9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LocationSettings</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess16eProjectLocation16LocationSettingsE" title="Link to this definition"></a><br /></dt>
<dd><p>location where application can store settings and configuration files </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevelE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess9eLogLevelE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess9eLogLevelE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a3e41259ce53d0dcdd5d99f0d8e810012"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">eLogLevel</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevelE" title="Link to this definition"></a><br /></dt>
<dd><p>Log levels - keep this in sync with Core::CLogEvent::eType. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevel7LogInfoE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess9eLogLevel7LogInfoE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess9eLogLevel7LogInfoE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a3e41259ce53d0dcdd5d99f0d8e810012afd4a66f95165420f5a0d1059a47e72be"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LogInfo</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevel7LogInfoE" title="Link to this definition"></a><br /></dt>
<dd><p>LogInfo. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevel10LogWarningE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess9eLogLevel10LogWarningE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess9eLogLevel10LogWarningE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a3e41259ce53d0dcdd5d99f0d8e810012a18d693b5ba32b6910a9d0298f4492d10"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LogWarning</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevel10LogWarningE" title="Link to this definition"></a><br /></dt>
<dd><p>LogWarning. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevel8LogErrorE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess9eLogLevel8LogErrorE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess9eLogLevel8LogErrorE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a3e41259ce53d0dcdd5d99f0d8e810012ae0bb14efee4d649277882ed678e0c75e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LogError</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevel8LogErrorE" title="Link to this definition"></a><br /></dt>
<dd><p>LogError. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevel8LogDebugE">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess9eLogLevel8LogDebugE"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess9eLogLevel8LogDebugE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a3e41259ce53d0dcdd5d99f0d8e810012a101f5e6b7a5efbb02d261fe7600220f4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LogDebug</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess9eLogLevel8LogDebugE" title="Link to this definition"></a><br /></dt>
<dd><p>LogDebug. </p>
</dd></dl>

</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script16CScriptEnvAccess11listDevicesEv">
<span id="_CPPv3NK6QtLabb6Script16CScriptEnvAccess11listDevicesEv"></span><span id="_CPPv2NK6QtLabb6Script16CScriptEnvAccess11listDevicesEv"></span><span id="QtLabb::Script::CScriptEnvAccess::listDevicesC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a591f85f840f014041a19572e67fd3af0"></span><span class="n"><span class="pre">QStringList</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">listDevices</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess11listDevicesEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns an array with all device names that can be accessed from JavaScript. </p>
<p>Use the device name when calling the <code class="docutils literal notranslate"><a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptEnvAccess_1a95ec0c6877721274e0656b98c29b20fe"><span class="std std-ref"><span class="pre">getDevice()</span></span></a></code> function to get the corresponding device object. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script16CScriptEnvAccess9getDeviceERK7QString">
<span id="_CPPv3NK6QtLabb6Script16CScriptEnvAccess9getDeviceERK7QString"></span><span id="_CPPv2NK6QtLabb6Script16CScriptEnvAccess9getDeviceERK7QString"></span><span id="QtLabb::Script::CScriptEnvAccess::getDevice__QStringCRC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a95ec0c6877721274e0656b98c29b20fe"></span><span class="n"><span class="pre">QtLabb</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Core</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">CDevice</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">getDevice</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">Name</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess9getDeviceERK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the device object for the given device name. </p>
<p>The device object provides access to device-specific functions and properties of this device. The device names are the names that are also used in the CETONI Elements script system to access devices or device properties.</p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">pump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">getDevice</span><span class="p">(</span><span class="s">&quot;Nemesys_S_1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script16CScriptEnvAccess11listObjectsEv">
<span id="_CPPv3NK6QtLabb6Script16CScriptEnvAccess11listObjectsEv"></span><span id="_CPPv2NK6QtLabb6Script16CScriptEnvAccess11listObjectsEv"></span><span id="QtLabb::Script::CScriptEnvAccess::listObjectsC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a3f5fae5e0814d8311b704349f04a95d5"></span><span class="n"><span class="pre">QStringList</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">listObjects</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess11listObjectsEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns an array of all registered application objects that are not devices and that can be accessed from JavaScript, such as the graphical logger. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script16CScriptEnvAccess9getObjectERK7QString">
<span id="_CPPv3NK6QtLabb6Script16CScriptEnvAccess9getObjectERK7QString"></span><span id="_CPPv2NK6QtLabb6Script16CScriptEnvAccess9getObjectERK7QString"></span><span id="QtLabb::Script::CScriptEnvAccess::getObject__QStringCRC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a9e33ef0b2c324d14d0900c64365ad2d5"></span><span class="n"><span class="pre">QObject</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">getObject</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">Name</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess9getObjectERK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the object with the given object name <code class="docutils literal notranslate"><span class="pre">Name</span></code>. </p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">getObject</span><span class="p">(</span><span class="s">&quot;ProcessDataGraph&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script16CScriptEnvAccess6getVarERK7QString">
<span id="_CPPv3NK6QtLabb6Script16CScriptEnvAccess6getVarERK7QString"></span><span id="_CPPv2NK6QtLabb6Script16CScriptEnvAccess6getVarERK7QString"></span><span id="QtLabb::Script::CScriptEnvAccess::getVar__QStringCRC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a0c72e2c42c9afe9a50ae059fb6f2c518"></span><span class="n"><span class="pre">QVariant</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getVar</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">VarName</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess6getVarERK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the value of a certain script variable. </p>
<p>The variable name needs to start with a dollar sign.</p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">flow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">getVar</span><span class="p">(</span><span class="s">&quot;$FlowRate&quot;</span><span class="p">)</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess6setVarERK7QStringRK8QVariant">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess6setVarERK7QStringRK8QVariant"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess6setVarERK7QStringRK8QVariant"></span><span id="QtLabb::Script::CScriptEnvAccess::setVar__QStringCR.QVariantCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a8191c741d60cbef51b394caaf394d9dc"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setVar</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">Name</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QVariant</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">Value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess6setVarERK7QStringRK8QVariant" title="Link to this definition"></a><br /></dt>
<dd><p>Sets the value of the script variable to the given value. </p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">setVar</span><span class="p">(</span><span class="s">&quot;$TargetPos&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess7setVarsEK12QVariantList">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess7setVarsEK12QVariantList"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess7setVarsEK12QVariantList"></span><span id="QtLabb::Script::CScriptEnvAccess::setVars__QVariantListC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a797af24ccb3a3f9b2c5350db487928c9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setVars</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QVariantList</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">Values</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess7setVarsEK12QVariantList" title="Link to this definition"></a><br /></dt>
<dd><p>Sets multiple script variables using a JavaScript array. </p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">setVars</span><span class="p">([</span><span class="s">&quot;$Value1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;$Value2&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1.5</span><span class="p">])</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess13setNamedValueERK7QStringRK8QVariantb">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess13setNamedValueERK7QStringRK8QVariantb"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess13setNamedValueERK7QStringRK8QVariantb"></span><span id="QtLabb::Script::CScriptEnvAccess::setNamedValue__QStringCR.QVariantCR.b"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a4565a7d3c98cffa48bf2ca7234464d02"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setNamedValue</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">Name</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QVariant</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">Value</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ReplaceIfExists</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess13setNamedValueERK7QStringRK8QVariantb" title="Link to this definition"></a><br /></dt>
<dd><p>Registers a named value. </p>
<p>You can use this function to register a certain value with a given name globally to the current script engine instance. You can then use the <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptEnvAccess_1a52eec06a6ddc8dde3a4b4c8d21a18ee2"><span class="std std-ref">namedValue()</span></a> function later, to easily access the registered named value. If the value is already registered, it is overwritten with the new value given in Value If the value already exists and <code class="docutils literal notranslate"><span class="pre">ReplaceIfExists</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, then the value is not replaced <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptEnvAccess_1a52eec06a6ddc8dde3a4b4c8d21a18ee2"><span class="std std-ref">namedValue()</span></a></p>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess10namedValueERK7QString">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess10namedValueERK7QString"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess10namedValueERK7QString"></span><span id="QtLabb::Script::CScriptEnvAccess::namedValue__QStringCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a52eec06a6ddc8dde3a4b4c8d21a18ee2"></span><span class="n"><span class="pre">QVariant</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">namedValue</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">Name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess10namedValueERK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Returns a named value or an invalid variant, if no value with the given name is registered. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptEnvAccess_1a4565a7d3c98cffa48bf2ca7234464d02"><span class="std std-ref">setNamedValue()</span></a></p>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess5sleepEf">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess5sleepEf"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess5sleepEf"></span><span id="QtLabb::Script::CScriptEnvAccess::sleep__float"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1af7ec6fc59e3dcb339214211ecce97779"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sleep</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">Seconds</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess5sleepEf" title="Link to this definition"></a><br /></dt>
<dd><p>Sleep for the given number of seconds without blocking the application main event loop. </p>
<p>Use this function for small delays only. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess5leaveEv">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess5leaveEv"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess5leaveEv"></span><span id="QtLabb::Script::CScriptEnvAccess::leave"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a635e9d974eb6fa716725ba4159c0df24"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">leave</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess5leaveEv" title="Link to this definition"></a><br /></dt>
<dd><p>Leave the current script function. </p>
<p>If your JavaScript main() function returned ScriptEnv.KEEP_RUNNING then you can use this function if you finished your JavaScript logic to signal the scripting system that the script system should leave the current script function and process the next one. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess6invokeERK8QJSValueRK8QJSValue">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess6invokeERK8QJSValueRK8QJSValue"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess6invokeERK8QJSValueRK8QJSValue"></span><span id="QtLabb::Script::CScriptEnvAccess::invoke__QJSValueCR.QJSValueCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a7289fa96e91064104d57457874a80f9d"></span><span class="n"><span class="pre">QJSValue</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">invoke</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QJSValue</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">fun</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QJSValue</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">args</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess6invokeERK8QJSValueRK8QJSValue" title="Link to this definition"></a><br /></dt>
<dd><p>Invoke the given function with the given parameters in the main UI thread. </p>
<p>This allows calling of UI objects methods from a JavaScript function running concurrently in its own thread. The first parameter <code class="docutils literal notranslate"><span class="pre">fun</span></code> is the function that should get invoked (like <code class="docutils literal notranslate"><span class="pre">pump.generateFlow</span></code>) and the second parameter <code class="docutils literal notranslate"><span class="pre">args</span></code> is an JavaScript array with the function arguments (like <code class="docutils literal notranslate"><span class="pre">[-0.01,</span> <span class="pre">25]</span></code>).</p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">pump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">getDevice</span><span class="p">(</span><span class="s">&quot;Nemesys_S_1&quot;</span><span class="p">);</span>
<span class="n">ScriptEnv</span><span class="p">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">pump</span><span class="p">.</span><span class="n">generateFlow</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mf">-0.01</span><span class="p">]);</span>
<span class="n">graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">getObject</span><span class="p">(</span><span class="s">&quot;ProcessDataGraph&quot;</span><span class="p">);</span>
<span class="n">ScriptEnv</span><span class="p">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">graph</span><span class="p">.</span><span class="n">startLogging</span><span class="p">,</span><span class="w"> </span><span class="p">[]);</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script16CScriptEnvAccess11projectPathEi">
<span id="_CPPv3NK6QtLabb6Script16CScriptEnvAccess11projectPathEi"></span><span id="_CPPv2NK6QtLabb6Script16CScriptEnvAccess11projectPathEi"></span><span id="QtLabb::Script::CScriptEnvAccess::projectPath__iC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a05d32bde10f7372d6a2fd80d64d51f37"></span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">projectPath</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">Location</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess11projectPathEi" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the absolute path of a certain data location in the current project. </p>
<p>
The following example shows, how to get the data path of the current project:</p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">projectPath</span><span class="p">(</span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">LocationData</span><span class="p">);</span>
<span class="n">path</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s">&quot;/TestFile1.txt&quot;</span><span class="p">;</span>
<span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QFile</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
<span class="n">f</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">QFile</span><span class="p">.</span><span class="n">ModeReadWrite</span><span class="p">);</span>
<span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;This is just a test test&quot;</span><span class="p">);</span>
<span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
</pre></div>
</div>
</p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptEnvAccess_1af03a758182a0314f920e7db5024488d9"><span class="std std-ref">eProjectLocation</span></a></p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Location</strong> – Location identifier (see eProjectLocation enum)</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess6importERK7QStringRK7QString">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess6importERK7QStringRK7QString"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess6importERK7QStringRK7QString"></span><span id="QtLabb::Script::CScriptEnvAccess::import__QStringCR.QStringCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a071e653b4c456f9043a354b392a082bb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">import</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">RelativeFilePath</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">JsModuleIdentifier</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess6importERK7QStringRK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Import a JavaScript module from the <code class="docutils literal notranslate"><span class="pre">Scripts/JavaScript</span></code> subfolder of the current project. </p>
<p>The following example shows, how to register and use the JavaScript module <code class="docutils literal notranslate"><span class="pre">Scripts/JavaScript/TestModules/test.js</span></code> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ScriptEnv</span><span class="p">.</span><span class="k">import</span><span class="p">(</span><span class="s">&quot;TestModules/test.js&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MyModule&quot;</span><span class="p">);</span>
<span class="n">MyModule</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>RelativeFilePath</strong> – The module file path relative to <code class="docutils literal notranslate"><span class="pre">Scripts/JavaScript</span></code></p></li>
<li><p><strong>JsModuleIdentifier</strong> – The name of the module in JavaScript </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script16CScriptEnvAccess3logEiRK7QStringRK7QString">
<span id="_CPPv3N6QtLabb6Script16CScriptEnvAccess3logEiRK7QStringRK7QString"></span><span id="_CPPv2N6QtLabb6Script16CScriptEnvAccess3logEiRK7QStringRK7QString"></span><span id="QtLabb::Script::CScriptEnvAccess::log__i.QStringCR.QStringCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1ac83af5b77b23679f3c000b9c1d83ca45"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">Level</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">Message</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">Source</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script16CScriptEnvAccess3logEiRK7QStringRK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Log a message to the application event log. </p>
<p>This function is similar to the console.log, console.warn or console.error functions. But this function allows to provide an additional source parameter. If you use the console.log functions, then the event source in the event log is always the JavaScript script function that contains the log statement. If you would like to evaluate and print errors for a certain object or device, then it is better for the user if the source if the name of the device or object that caused the error. For example, if you have a device “Pure Water Station” that signals the warning “Filter Cleaning Required” then you can use this function to signal the warning: <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">ScriptEnv</span><span class="p">.</span><span class="n">LogWarning</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Filter Cleaning Required&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Pure Water Station&quot;</span><span class="p">);</span>
</pre></div>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Level</strong> – The log level (ScriptEnv.LogInfo, ScriptEnv.LogWarning, ScriptEnv.LogError) </p></li>
<li><p><strong>Message</strong> – The log message printed in the Event column </p></li>
<li><p><strong>Source</strong> – The name of the error source printed in the Event source column </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script16CScriptEnvAccess13isDebugModeOnEv">
<span id="_CPPv3NK6QtLabb6Script16CScriptEnvAccess13isDebugModeOnEv"></span><span id="_CPPv2NK6QtLabb6Script16CScriptEnvAccess13isDebugModeOnEv"></span><span id="QtLabb::Script::CScriptEnvAccess::isDebugModeOnC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptEnvAccess_1a037e7a8a6427e25834567a40366be762"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">isDebugModeOn</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script16CScriptEnvAccess13isDebugModeOnEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns true, if the debug mode of the script engine is on. </p>
</dd></dl>

</div>
</section>
<section id="qfile">
<h3><span class="section-number">6.9.2. </span>QFile<a class="headerlink" href="#qfile" title="Link to this heading"></a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">QFile</span></code> class provides an interface for reading from and writing to
files. It is a wrapper for the <a class="reference external" href="https://doc.qt.io/qt-5/qfile.html">QFile</a> class
from the Qt framework.</p>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFileE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFileE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFileE"></span><span id="QtLabb::Script::CScriptQFile"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CScriptQFile</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">QObject</span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFileE" title="Link to this definition"></a><br /></dt>
<dd><p>Wrapper for QFile object. </p>
<p>The QFile class provides an interface for reading from and writing to files. The file name is usually passed in the constructor, but it can be set at any time using <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1a89a70ec60ae8f4cd46bb968cc5ad104d"><span class="std std-ref">setFileName()</span></a>. QFile expects the file separator to be ‘/’ regardless of operating system. The use of other separators (e.g., ‘') is not supported. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlagE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlagE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlagE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">OpenModeFlag</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlagE" title="Link to this definition"></a><br /></dt>
<dd><p>This enum is used with <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1a7c16659862cb40822f7ce4042d20a304"><span class="std std-ref">open()</span></a> to describe the mode in which a device is opened. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag11ModeNotOpenE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag11ModeNotOpenE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag11ModeNotOpenE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10a93933c7b8ce9ab9c12411338d1f80d1a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeNotOpen</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag11ModeNotOpenE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag12ModeReadOnlyE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag12ModeReadOnlyE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag12ModeReadOnlyE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10a3897825a0a50455b527ec544efb07627"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeReadOnly</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag12ModeReadOnlyE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag13ModeWriteOnlyE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag13ModeWriteOnlyE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag13ModeWriteOnlyE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10a232357858b02da2b9323d27cbe8a21bb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeWriteOnly</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag13ModeWriteOnlyE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag13ModeReadWriteE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag13ModeReadWriteE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag13ModeReadWriteE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10aa4f49d99bf48a4843254c8eec533454f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeReadWrite</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag13ModeReadWriteE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag10ModeAppendE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag10ModeAppendE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag10ModeAppendE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10ae84b6af3903f26830faa6879300d1afa"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeAppend</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag10ModeAppendE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag12ModeTruncateE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag12ModeTruncateE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag12ModeTruncateE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10a89ebc69f866cc4041ce89fad1fb1c040"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeTruncate</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag12ModeTruncateE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag8ModeTextE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag8ModeTextE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag8ModeTextE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10a83210927f28b8ae24881d1ce4f606dc3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeText</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag8ModeTextE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag14ModeUnbufferedE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag14ModeUnbufferedE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag14ModeUnbufferedE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10a3bf499aed113a4a71bdd66cee40c971b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeUnbuffered</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag14ModeUnbufferedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag11ModeNewOnlyE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag11ModeNewOnlyE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag11ModeNewOnlyE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10a47420c9282a5893edbe84d517b632fac"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeNewOnly</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag11ModeNewOnlyE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag16ModeExistingOnlyE">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12OpenModeFlag16ModeExistingOnlyE"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12OpenModeFlag16ModeExistingOnlyE"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1aa7788048a46c837764da6ebe2d137b10a924e83f029974c98e2e190481a5e242a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ModeExistingOnly</span></span></span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12OpenModeFlag16ModeExistingOnlyE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile5closeEv">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile5closeEv"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile5closeEv"></span><span id="QtLabb::Script::CScriptQFile::close"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a175862fb83360515c0f454840aa3177d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">close</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile5closeEv" title="Link to this definition"></a><br /></dt>
<dd><p>Closes the file. </p>
<p>Calls flush() and closes the file. Errors from flush are ignored. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile4copyERK7QString">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile4copyERK7QString"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile4copyERK7QString"></span><span id="QtLabb::Script::CScriptQFile::copy__QStringCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1ace7c89b048d5f21884bb32d79c9e04d4"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">copy</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">newName</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile4copyERK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Copies the file named <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1ac502ab97a0adc431b4f3fa0439c62f91"><span class="std std-ref">fileName()</span></a> to newName. </p>
<p>This file is closed before it is copied. If the copied file is a symbolic link (symlink), the file it refers to is copied, not the link itself. With the exception of permissions, which are copied, no other file metadata is copied. Returns true if successful; otherwise returns false. Note that if a file with the name newName already exists, <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1ace7c89b048d5f21884bb32d79c9e04d4"><span class="std std-ref">copy()</span></a> returns false. This means QFile will not overwrite it. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile12CScriptQFileERK7QString">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile12CScriptQFileERK7QString"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile12CScriptQFileERK7QString"></span><span id="QtLabb::Script::CScriptQFile::CScriptQFile__QStringCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a9e419758b80f4b7df949e3b8b0645c35"></span><span class="sig-name descname"><span class="n"><span class="pre">CScriptQFile</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">name</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile12CScriptQFileERK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Constructs a new file object to represent the file with the specified name. </p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QFile</span><span class="p">(</span><span class="s">&quot;C:/temp/test1.txt&quot;</span><span class="p">);</span>
<span class="n">f</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">QFile</span><span class="p">.</span><span class="n">ModeReadWrite</span><span class="p">);</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script12CScriptQFile11errorStringEv">
<span id="_CPPv3NK6QtLabb6Script12CScriptQFile11errorStringEv"></span><span id="_CPPv2NK6QtLabb6Script12CScriptQFile11errorStringEv"></span><span id="QtLabb::Script::CScriptQFile::errorStringC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1ad4d1284536fa8ad66c535f78452b401f"></span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">errorString</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script12CScriptQFile11errorStringEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns a human-readable description of the last device error that occurred. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script12CScriptQFile6existsEv">
<span id="_CPPv3NK6QtLabb6Script12CScriptQFile6existsEv"></span><span id="_CPPv2NK6QtLabb6Script12CScriptQFile6existsEv"></span><span id="QtLabb::Script::CScriptQFile::existsC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a519e60d707b7082cafb94568e3d88bbd"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">exists</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script12CScriptQFile6existsEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns true if the file specified by <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1ac502ab97a0adc431b4f3fa0439c62f91"><span class="std std-ref">fileName()</span></a> exists; otherwise returns false. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script12CScriptQFile8fileNameEv">
<span id="_CPPv3NK6QtLabb6Script12CScriptQFile8fileNameEv"></span><span id="_CPPv2NK6QtLabb6Script12CScriptQFile8fileNameEv"></span><span id="QtLabb::Script::CScriptQFile::fileNameC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1ac502ab97a0adc431b4f3fa0439c62f91"></span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fileName</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script12CScriptQFile8fileNameEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the name of the file. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6QtLabb6Script12CScriptQFile6isOpenEv">
<span id="_CPPv3NK6QtLabb6Script12CScriptQFile6isOpenEv"></span><span id="_CPPv2NK6QtLabb6Script12CScriptQFile6isOpenEv"></span><span id="QtLabb::Script::CScriptQFile::isOpenC"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1ab47c1c4a8fd39a8cec1882d2832486a5"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">isOpen</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6QtLabb6Script12CScriptQFile6isOpenEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns true if the device is open; otherwise returns false. </p>
<p>A file is open if it can be read from and/or written to. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile11moveToTrashEv">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile11moveToTrashEv"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile11moveToTrashEv"></span><span id="QtLabb::Script::CScriptQFile::moveToTrash"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1ab25ea89875c88b5e803678a9e2a5ec3a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">moveToTrash</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile11moveToTrashEv" title="Link to this definition"></a><br /></dt>
<dd><p>Moves the file specified by <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1ac502ab97a0adc431b4f3fa0439c62f91"><span class="std std-ref">fileName()</span></a> to the trash. </p>
<p>Returns true if successful, and sets the <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1ac502ab97a0adc431b4f3fa0439c62f91"><span class="std std-ref">fileName()</span></a> to the path at which the file can be found within the trash; otherwise returns false. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile4openEi">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile4openEi"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile4openEi"></span><span id="QtLabb::Script::CScriptQFile::open__i"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a7c16659862cb40822f7ce4042d20a304"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">open</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">mode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile4openEi" title="Link to this definition"></a><br /></dt>
<dd><p>Opens the file with the given open mode. </p>
<p>Returns true if successful; otherwise returns false.</p>
<p><strong>Example:</strong> <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QFile</span><span class="p">(</span><span class="s">&quot;C:/temp/test1.txt&quot;</span><span class="p">);</span>
<span class="n">f</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="n">QFile</span><span class="p">.</span><span class="n">ModeReadWrite</span><span class="p">);</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile4readE6qint64">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile4readE6qint64"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile4readE6qint64"></span><span id="QtLabb::Script::CScriptQFile::read__qint64"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a56502f9f52a2c26e8e6b1dd64585feeb"></span><span class="n"><span class="pre">QByteArray</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">qint64</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">maxSize</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile4readE6qint64" title="Link to this definition"></a><br /></dt>
<dd><p>Reads at most maxSize bytes from the device, and returns the data read as a QByteArray. </p>
<p>This function has no way of reporting errors; returning an empty QByteArray can mean either that no data was currently available for reading, or that an error occurred. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile7readAllEv">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile7readAllEv"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile7readAllEv"></span><span id="QtLabb::Script::CScriptQFile::readAll"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a14797a28271e3fc2f5c1a108347973f9"></span><span class="n"><span class="pre">QByteArray</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">readAll</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile7readAllEv" title="Link to this definition"></a><br /></dt>
<dd><p>Reads all remaining data from the device, and returns it as a byte array. </p>
<p>This function has no way of reporting errors; returning an empty QByteArray can mean either that no data was currently available for reading, or that an error occurred. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile8readLineE6qint64">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile8readLineE6qint64"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile8readLineE6qint64"></span><span id="QtLabb::Script::CScriptQFile::readLine__qint64"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a0c7ff50e5b241dab8e6c0fec86761130"></span><span class="n"><span class="pre">QByteArray</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">readLine</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">qint64</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">maxSize</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile8readLineE6qint64" title="Link to this definition"></a><br /></dt>
<dd><p>Reads a line from the device, but no more than maxSize characters, and returns the result as a byte array. </p>
<p>This function has no way of reporting errors; returning an empty QByteArray can mean either that no data was currently available for reading, or that an error occurred. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile6removeEv">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile6removeEv"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile6removeEv"></span><span id="QtLabb::Script::CScriptQFile::remove"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a82a346b6fa25d04e613c3d058b0b719d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">remove</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile6removeEv" title="Link to this definition"></a><br /></dt>
<dd><p>Removes the file specified by the fileName given. </p>
<p>Returns true if successful; otherwise returns false. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile6renameERK7QString">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile6renameERK7QString"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile6renameERK7QString"></span><span id="QtLabb::Script::CScriptQFile::rename__QStringCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1abee1f9b798045be83c6fba05ec8b3216"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rename</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">newName</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile6renameERK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Renames the file currently specified by <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1ac502ab97a0adc431b4f3fa0439c62f91"><span class="std std-ref">fileName()</span></a> to newName. </p>
<p>Returns true if successful; otherwise returns false.</p>
<p>If a file with the name newName already exists, <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1abee1f9b798045be83c6fba05ec8b3216"><span class="std std-ref">rename()</span></a> returns false (i.e., QFile will not overwrite it).</p>
<p>The file is closed before it is renamed.</p>
<p>If the rename operation fails, Qt will attempt to copy this file’s contents to newName, and then remove this file, keeping only newName. If that copy operation fails or this file can’t be removed, the destination file newName is removed to restore the old state. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile4seekE6qint64">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile4seekE6qint64"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile4seekE6qint64"></span><span id="QtLabb::Script::CScriptQFile::seek__qint64"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a280939cabacb5fcf4c5fe82de60ed17a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">seek</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">qint64</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">pos</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile4seekE6qint64" title="Link to this definition"></a><br /></dt>
<dd><p>For random-access devices, this function sets the current position to pos, returning true on success, or false if an error occurred. </p>
<p>For sequential devices, the default behavior is to do nothing and return false.</p>
<p>Seeking beyond the end of a file: If the position is beyond the end of a file, then <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1a280939cabacb5fcf4c5fe82de60ed17a"><span class="std std-ref">seek()</span></a> will not immediately extend the file. If a write is performed at this position, then the file will be extended. The content of the file between the previous end of file and the newly written data is UNDEFINED and varies between platforms and file systems. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile11setFileNameERK7QString">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile11setFileNameERK7QString"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile11setFileNameERK7QString"></span><span id="QtLabb::Script::CScriptQFile::setFileName__QStringCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a89a70ec60ae8f4cd46bb968cc5ad104d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setFileName</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QString</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">FileName</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile11setFileNameERK7QString" title="Link to this definition"></a><br /></dt>
<dd><p>Sets the name of the file. </p>
<p>The name can have no path, a relative path, or an absolute path. Do not call this function if the file has already been opened. If the file name has no path or a relative path, the path used will be the application’s current directory path at the time of the <a class="reference internal" href="#classQtLabb_1_1Script_1_1CScriptQFile_1a7c16659862cb40822f7ce4042d20a304"><span class="std std-ref">open()</span></a> call. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6QtLabb6Script12CScriptQFile5writeERK10QByteArray">
<span id="_CPPv3N6QtLabb6Script12CScriptQFile5writeERK10QByteArray"></span><span id="_CPPv2N6QtLabb6Script12CScriptQFile5writeERK10QByteArray"></span><span id="QtLabb::Script::CScriptQFile::write__QByteArrayCR"></span><span class="target" id="classQtLabb_1_1Script_1_1CScriptQFile_1a86be775c6f69ff4bca53fd0494a1f1d6"></span><span class="n"><span class="pre">qint64</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">write</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">QByteArray</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6QtLabb6Script12CScriptQFile5writeERK10QByteArray" title="Link to this definition"></a><br /></dt>
<dd><p>Writes the content of byteArray to the device. </p>
<p>Returns the number of bytes that were actually written, or -1 if an error occurred. </p>
</dd></dl>

</div>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../scriptingsystem_part2_EN/scriptingsystem_part2_EN.html" class="btn btn-neutral float-left" title="5. Generic Script Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../nemesys_EN/nemesys_full_EN.html" class="btn btn-neutral float-right" title="7. Nemesys Plugin" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, CETONI GmbH.
      <span class="lastupdated">Last updated on Jan 28, 2026 14:15.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>